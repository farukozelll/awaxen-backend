# ==========================================
#  AWAXEN ENVIRONMENT CONFIGURATION
# ==========================================

# --- APPLICATION SETTINGS ---
PROJECT_NAME=Awaxen
ENVIRONMENT=development
FLASK_APP=run.py
FLASK_DEBUG=true
API_V1_STR=/api/v1

# --- DATABASE (PostgreSQL / TimescaleDB) ---
# Docker service name 'db' olduğu için host olarak 'db' kullanıyoruz.
DB_HOST=db
DB_PORT=5432
DB_NAME=awaxen_core
DB_USER=awaxen_user
DB_PASSWORD=awaxen_secret_password
DATABASE_URL=postgresql+asyncpg://awaxen_user:awaxen_secret_password@db:5432/awaxen_core
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_ECHO=false

# --- REDIS (Celery Broker & Cache) ---
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# --- MQTT (Mosquitto) - Shelly IoT Devices ---
MQTT_BROKER_URL=mqtt
MQTT_BROKER_PORT=1883
MQTT_USERNAME=awaxen_admin
MQTT_PASSWORD=gizli_sifre_123
MQTT_CLIENT_ID=awaxen-backend
MQTT_SENSOR_TOPIC=awaxen/sensors/#

# --- MinIO (S3 Compatible Storage) ---
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=awaxen
MINIO_SECURE=false

# --- SECURITY & ENCRYPTION ---
# Flask/JWT session güvenliği için rastgele bir string
SECRET_KEY=gizli_sifre_123
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# Shelly API Keylerini veritabanında şifreli saklamak için Fernet key
# Üretmek için: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=JJ17wk02JWjeMIlICTz8i8dZ1hldywQrLhwUqYllyB4=

# --- AUTH0 (Authentication) ---
AUTH0_DOMAIN=awaxen.eu.auth0.com
AUTH0_AUDIENCE=https://api.awaxen.com
AUTH0_CLIENT_ID=2Iwki6ZIelRRT7S9L78epYaPCJKdd9gJ

# --- CORS ---
CORS_ORIGINS=http://localhost:3005
BACKEND_CORS_ORIGINS=http://localhost:3005,http://localhost:3000,http://localhost:8080

# --- EXTERNAL APIs ---
OPENWEATHER_API_KEY=b36174977832bed5648e0b72f200ac88

# --- EPİAŞ (Enerji Piyasası) ---
EPIAS_USERNAME=faruk.ozelll@outlook.com
EPIAS_PASSWORD=Su*j#SmSRfu2Rq

# --- TELEGRAM BOT ---
TELEGRAM_BOT_TOKEN=7959987275:AAHF8e_VVJIqXy_i0Wjt99pARzs4y5p8FEo
TELEGRAM_BOT_USERNAME=AwaxenBot

# --- NGROK (Development Tunneling) ---
NGROK_AUTHTOKEN=36WE1OBeTKHhYn6tt6AmLHFSq1x_2cbQnkzCWgnL1x7uLA9Lc

# --- PGADMIN (Veritabanı Yönetim Arayüzü) ---
PGADMIN_DEFAULT_EMAIL=admin@awaxen.com
PGADMIN_DEFAULT_PASSWORD=admin

# --- Telemetry Batch Settings ---
TELEMETRY_BATCH_SIZE=100
TELEMETRY_FLUSH_INTERVAL=5.0

# --- First Superuser (optional - for initial setup) ---
FIRST_SUPERUSER_EMAIL=admin@awaxen.com
FIRST_SUPERUSER_PASSWORD=changeme123
FIRST_SUPERUSER_FULL_NAME=Admin User
RUN_DB_INIT=false

# --- FIREBASE (Push Notifications) ---
FIREBASE_CREDENTIALS_PATH=/path/to/serviceAccountKey.json
FIREBASE_PROJECT_ID=awaxen-notifications
FIREBASE_VAPID_KEY=BP7ZvYmOdo6D2oYeHRzunEXBY1blYVvB1dwiL4n12edWg-T4VR1lQdwDpV0OqgRfAvvKUwo1AgYM7SeL2CIbnuQ

# --- SENTRY (Error Tracking) ---
# Get DSN from: https://sentry.io/settings/projects/<project>/keys/
SENTRY_DSN=
# Sample rate for performance monitoring (0.0 - 1.0)
SENTRY_TRACES_SAMPLE_RATE=0.1

# --- PROMETHEUS & GRAFANA ---
# Metrics are exposed at /metrics endpoint
PROMETHEUS_ENABLED=true
# Grafana dashboard URL (for reference)
GRAFANA_URL=http://localhost:3000

# --- APPLICATION VERSION ---
APP_VERSION=1.0.0

# --- RATE LIMITING ---
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_AI_REQUESTS_PER_MINUTE=10

# --- GEOALCHEMY (PostGIS) ---
# Enable PostGIS for geo-spatial queries
POSTGIS_ENABLED=false